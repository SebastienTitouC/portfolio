import { m as u, c as d } from "./dark-mode-rPT3-25Y.js"; const s = r => { let e; return r ? e = new Date(r.replace(" ", "T")) : e = new Date, e.toLocaleDateString("fr-FR", { day: "2-digit", month: "long", year: "numeric" }) }, y = (r, e) => { r.toLocaleLowerCase() === "entreprise" ? e.style.backgroundColor = "var(--clr-sky)" : r.toLocaleLowerCase() === "développement" ? e.style.backgroundColor = "var(--clr-purple)" : r.toLocaleLowerCase() === "personnel" ? e.style.backgroundColor = "var(--clr-orange600)" : r.toLocaleLowerCase() === "autre" && (e.style.backgroundColor = "var(--clr-emerald)") }, a = r => { const e = document.querySelector(".articles-wrapper2"), l = document.querySelector("#articles-template"); if (e.innerHTML = "", r.length === 0) { let t = document.importNode(l.content, !0); t.querySelector(".articles__title").textContent = "Aucun article pour le moment.", t.querySelector(".articles__img").src = new URL("webp/6.webp", window.location.origin), t.querySelector(".articles__img").style.display = "block", t.querySelector(".articles__content").innerHTML = "In n'y a pas encore de contenue, mais cela viendra. <br><br>Restez à l'écoute.  <br><br>Merci.", t.querySelector(".articles__createdDate").textContent = s(), t.querySelector(".articles__category").textContent = "Erreur", t.querySelector(".articles__category").style.backgroundColor = "var(--clr-red800)", e.appendChild(t) } else r.forEach(t => { let o = document.importNode(l.content, !0); o.querySelector(".articles__title").textContent = t.title, o.querySelector(".articles__content").textContent = t.content, o.querySelector(".articles__createdDate").textContent = s(t.date_created), o.querySelector(".articles__category").textContent = t.category, y(t.category, o.querySelector(".articles__category")), e.appendChild(o) }) }, c = async r => { try { document.querySelector(".articles-wrapper2").innerHTML = ""; let e = "https://portfolio-stc.vercel.app/api/items"; r && (e = e + "?category=" + r); const l = await fetch(e, { method: "GET", headers: { "Content-Type": "application/json" } }); if (l.ok) { const t = await l.json(); console.log("Réponse du serveur:", t), t.sort((o, i) => new Date(i.date_created.replace(" ", "T")) - new Date(o.date_created.replace(" ", "T"))), a(t) } else { const t = await l.json(); console.error("Erreur du serveur:", t.message), alert("Erreur: " + t.message), a(data) } } catch (e) { a([]), console.error("Erreur de requête:", e) } }, p = () => { document.querySelector(".articles__button-all").addEventListener("click", () => { c(), n() }), document.querySelector(".articles__button-enterprise").addEventListener("click", () => { c("entreprise"), n() }), document.querySelector(".articles__button-perso").addEventListener("click", () => { c("personnel"), n() }), document.querySelector(".articles__button-dev").addEventListener("click", () => { c("développement"), n() }), document.querySelector(".articles__button-other").addEventListener("click", () => { c("autre"), n() }) }, n = () => { const r = document.querySelector(".articles__filter"), e = document.querySelector(".articles__filter-dropup"); e.style.visibility === "visible" ? e.style.visibility = "hidden" : e.style.visibility = "visible", r.classList.toggle("articles__filter-hover") }, _ = () => { document.querySelector("#articles__filter-btn").addEventListener("click", n) }; u(); d(); c(); p(); _();
